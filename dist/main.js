!function(t){var i={};function e(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var a in t)e.d(n,a,function(i){return t[i]}.bind(null,a));return n},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="/dist/",e(e.s=2)}([function(t,i,e){},function(t,i,e){},function(t,i,e){"use strict";e.r(i);e(0);function n(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(){function t(i,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t);var n=document.getElementById("canvas-background");this.ctx=n.getContext("2d"),this.canvasWidth=i,this.canvasHeight=e,this.cupidWidth=95,this.cupidHeight=127,this.cupidX=330,this.cupidY=20,this.dirX=0,this.dirY=0,this.health=270,this.score=0,this.imgSrc="src/images/netta.png",this.drawCupid=this.drawCupid.bind(this),this.moveCupid=this.moveCupid.bind(this),this.keyDownHandler=this.keyDownHandler.bind(this),this.keyUpHandler=this.keyUpHandler.bind(this),document.addEventListener("keydown",this.keyDownHandler,!1),document.addEventListener("keyup",this.keyUpHandler,!1)}var i,e,a;return i=t,(e=[{key:"drawCupid",value:function(t){var i=new Image;i.src=this.imgSrc,t.drawImage(i,this.cupidX,this.cupidY,this.cupidWidth,this.cupidHeight)}},{key:"moveCupid",value:function(t){switch(t){case"none":this.dirX=0;break;case"left":this.dirX=-5;break;case"right":this.dirX=5;break;case"up":this.dirY=-10;break;case"gravity":this.dirY=4}}},{key:"keyDownHandler",value:function(t){t.preventDefault(),"Right"==t.key||"ArrowRight"==t.key?this.moveCupid("right"):"Left"==t.key||"ArrowLeft"==t.key?this.moveCupid("left"):"Up"!=t.key&&"ArrowUp"!=t.key||this.moveCupid("up")}},{key:"keyUpHandler",value:function(t){t.preventDefault(),"Right"==t.key||"ArrowRight"==t.key||"Left"==t.key||"ArrowLeft"==t.key?this.moveCupid("none"):"Up"!=t.key&&"ArrowUp"!=t.key||this.moveCupid("gravity")}},{key:"newPos",value:function(){this.cupidX+=this.dirX,this.cupidY+=this.dirY,this.detectBorders()}},{key:"detectBorders",value:function(){this.cupidX<-100&&(this.cupidX=600),this.cupidX+this.cupidWidth>this.canvasWidth+100&&(this.cupidX=-50)}}])&&n(i.prototype,e),a&&n(i,a),t}();function s(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.sound=document.createElement("audio"),this.sound.src=i,this.sound.setAttribute("preload","auto"),this.sound.setAttribute("controls","none"),this.sound.style.display="none",document.body.appendChild(this.sound),this.play=this.play.bind(this)}var i,e,n;return i=t,(e=[{key:"play",value:function(){this.sound.play()}}])&&s(i.prototype,e),n&&s(i,n),t}();function h(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(){function t(i,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t);var n=document.getElementById("canvas-background");this.ctx=n.getContext("2d"),this.canvasWidth=i,this.canvasHeight=e,this.orangeWidth=47,this.orangeHeight=43,this.sound=new r("src/sounds/kiss.mp3"),this.orangeX=Math.floor(Math.random()*Math.floor(640)),this.orangeY=-12,this.now=0,this.drawOrange=this.drawOrange.bind(this)}var i,e,n;return i=t,(e=[{key:"drawOrange",value:function(t){var i=new Image;i.src="src/images/laney.png",t.drawImage(i,this.orangeX,this.orangeY,this.orangeWidth,this.orangeHeight),this.fall()}},{key:"fall",value:function(){this.orangeY+=5}}])&&h(i.prototype,e),n&&h(i,n),t}();function c(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var u=function(){function t(i,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t);var n=document.getElementById("canvas-background");this.ctx=n.getContext("2d"),this.canvasWidth=i,this.canvasHeight=e,this.annaWidth=47,this.annaHeight=57,this.sound=new r("src/sounds/kiss.mp3"),this.annaX=Math.floor(Math.random()*Math.floor(640)),this.annaY=-12,this.now=0,this.drawAnna=this.drawAnna.bind(this)}var i,e,n;return i=t,(e=[{key:"drawAnna",value:function(t){var i=new Image;i.src="src/images/anna.png",t.drawImage(i,this.annaX,this.annaY,this.annaWidth,this.annaHeight),this.fall()}},{key:"fall",value:function(){this.annaY+=3}}])&&c(i.prototype,e),n&&c(i,n),t}();function d(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=function(){function t(i,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t);var n=document.getElementById("canvas-background");this.ctx=n.getContext("2d"),this.canvasWidth=i,this.canvasHeight=e,this.cloudWidth=85,this.cloudHeight=43,this.sound=new r("src/sounds/shroom.mp3"),this.cloudX="",this.dir=Math.random()<.5?"left":"right","left"===this.dir?this.cloudX=800:"right"===this.dir&&(this.cloudX=-200),this.cloudY=Math.floor(Math.random()*Math.floor(400)),this.drawCloud=this.drawCloud.bind(this)}var i,e,n;return i=t,(e=[{key:"drawCloud",value:function(t){var i=new Image;i.src="src/images/mushrooms.png",t.drawImage(i,this.cloudX,this.cloudY,this.cloudWidth,this.cloudHeight),this.move(this.dir)}},{key:"move",value:function(t){"left"===t?this.cloudX-=2:"right"===t&&(this.cloudX+=2)}}])&&d(i.prototype,e),n&&d(i,n),t}();function p(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var f=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=i.getContext("2d"),this.canvasWidth=i.width,this.canvasHeight=i.height,this.cupid=new a(this.canvasWidth,this.canvasHeight),this.playing=!1,this.soundOn=!0,this.highScore=0,this.oranges=[new o],this.annas=[new u],this.clouds=[new l,new l],this.frameO=0,this.frameA=0,this.frameC=0,this.frameId=null,this.gameOver=this.gameOver.bind(this),this.gameUpdate=this.gameUpdate.bind(this),this.restartGame=this.restartGame.bind(this),this.endGame=this.endGame.bind(this);var e=document.getElementById("canvas-frame");this.ctxFrame=e.getContext("2d"),this.scoreCount=document.getElementById("score"),this.highScoreCount=document.getElementById("high-score"),this.drawHealthBar=this.drawHealthBar.bind(this),this.drawHealthBar(),this.updateScore=this.updateScore.bind(this),this.updateFrameNav=this.updateFrameNav.bind(this),document.addEventListener("keydown",this.keyHandler(),!1)}var i,e,n;return i=t,(e=[{key:"keyHandler",value:function(){var t=this,i=this.restartGame;return function(e){e.preventDefault(),"Enter"==e.key?(t.playing=!0,i()):"m"==e.key&&(t.soundOn=!t.soundOn)}}},{key:"endGame",value:function(){this.playing=!1,document.getElementById("welcome").classList.add("visible"),this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.cupid=new a(this.canvasWidth,this.canvasHeight),this.cupid.drawCupid(this.ctx)}},{key:"restartGame",value:function(){this.frameId&&cancelAnimationFrame(this.frameId),document.getElementById("welcome").classList.remove("visible"),this.cupid.drawCupid(this.cupid.ctx),this.cupid.moveCupid("gravity"),this.gameUpdate(),this.updateFrameNav()}},{key:"gameOver",value:function(){return(this.cupid.cupidY+this.cupid.cupidHeight-30>this.canvasHeight||this.cupid.health<0)&&(this.cupid.score>this.highScore&&(this.highScore=this.cupid.score,this.highScoreCount.innerText="High Score: ".concat(this.highScore)),this.scoreCount.innerText="Score: 0",!0)}},{key:"detectOrangeCollision",value:function(t){var i=(t.orangeX+(t.orangeX+t.orangeWidth))/2,e=(t.orangeY+(t.orangeY+t.orangeHeight))/2,n=this.cupid.cupidY,a=this.cupid.cupidY+this.cupid.cupidHeight,s=this.cupid.cupidX,r=this.cupid.cupidX+this.cupid.cupidWidth;if(i>s&&i<r&&e>n&&e<a)return this.soundOn&&t.sound.play(),this.oranges.shift(),this.cupid.score+=1,this.updateScore(),!0;e>this.canvasHeight&&this.oranges.shift()}},{key:"detectAnnaCollision",value:function(t){var i=(t.annaX+(t.annaX+t.annaWidth))/2,e=(t.annaY+(t.annaY+t.annaHeight))/2,n=this.cupid.cupidY,a=this.cupid.cupidY+this.cupid.cupidHeight,s=this.cupid.cupidX,r=this.cupid.cupidX+this.cupid.cupidWidth;if(i>s&&i<r&&e>n&&e<a)return this.soundOn&&t.sound.play(),this.annas.shift(),this.cupid.score+=1,this.updateScore(),!0;e>this.canvasHeight&&this.annas.shift()}},{key:"detectCloudCollision",value:function(t){var i=(t.cloudX+(t.cloudX+t.cloudWidth))/2,e=(t.cloudY+(t.cloudY+t.cloudHeight))/2,n=this.cupid.cupidY,a=this.cupid.cupidY+this.cupid.cupidHeight,s=this.cupid.cupidX,r=this.cupid.cupidX+this.cupid.cupidWidth;i>s&&i<r&&e>n&&e<a&&(this.soundOn&&t.sound.play(),this.cupid.health-=1.7),"left"===t.dir&&t.cloudX<-200&&this.clouds.shift()}},{key:"gameUpdate",value:function(){var t=this;!0===this.playing&&(this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.cupid.newPos(),this.cupid.drawCupid(this.ctx),this.frameO+=1,this.frameA+=1,this.frameC+=1,this.frameO>160&&(this.oranges.push(new o),this.frameO=0),this.frameA>200&&(this.annas.push(new u),this.frameA=0),this.frameC>175&&(this.clouds.push(new l),this.frameC=0),this.oranges.forEach((function(i){i.drawOrange(t.ctx)})),this.annas.forEach((function(i){i.drawAnna(t.ctx)})),this.clouds.forEach((function(i){i.drawCloud(t.ctx)})),this.oranges.forEach((function(i){t.detectOrangeCollision(i)})),this.annas.forEach((function(i){t.detectAnnaCollision(i)})),this.clouds.forEach((function(i){t.detectCloudCollision(i)})),this.gameOver()&&this.endGame(),this.frameId=requestAnimationFrame(this.gameUpdate))}},{key:"updateScore",value:function(){this.scoreCount.innerText="Score: ".concat(this.cupid.score)}},{key:"drawHealthBar",value:function(){this.ctxFrame.beginPath(),this.ctxFrame.rect(345,10,270,25),this.ctxFrame.lineWidth=2.25,this.ctxFrame.fillStyle="#e84625",this.ctxFrame.fill(),this.ctxFrame.beginPath(),this.ctxFrame.rect(345,10,this.cupid.health,25),this.ctxFrame.fillStyle="#38c230",this.ctxFrame.fill()}},{key:"updateFrameNav",value:function(){this.drawHealthBar(),requestAnimationFrame(this.updateFrameNav)}}])&&p(i.prototype,e),n&&p(i,n),t}();e(1);new f(document.getElementById("canvas-background"))}]);
//# sourceMappingURL=main.js.map